# 热力图特性说明

## 🎯 热力图大小计算逻辑

### 修改前（基于严重程度）

- 热力图方块大小根据错误严重程度（high/medium/low）决定
- 严重程度越高，方块越大
- 大小范围：60px - 120px

### 修改后（基于错误数量）

- 热力图方块大小根据错误发生次数决定
- 错误次数越多，方块越大
- 大小范围：60px - 120px

## 📊 计算方式

```typescript
// 根据错误数量计算大小和强度
const maxCount = Math.max(...errorLogsData.map((e) => e.count))
const normalizedCount = error.count / maxCount // 0-1之间的值

// 大小根据数量计算：最小60px，最大120px
const size = 60 + normalizedCount * 60

// 透明度根据数量计算：0.3-1.0
const opacity = 0.3 + normalizedCount * 0.7
```

## 🎨 视觉效果

### 方块大小

- **最大方块**：错误次数最多的错误类型
- **中等方块**：错误次数中等的错误类型
- **最小方块**：错误次数最少的错误类型

### 颜色区分

- **红色**：严重程度为 `high` 的错误
- **橙色**：严重程度为 `medium` 的错误
- **黄色**：严重程度为 `low` 的错误

### 透明度

- 透明度与错误数量成正比
- 数量越多，透明度越高（越不透明）

## 🔍 使用场景

### 1. 错误频率分析

- 快速识别最常发生的错误类型
- 优先处理高频错误

### 2. 问题严重性评估

- 结合数量和严重程度进行综合评估
- 数量多 + 严重程度高 = 最高优先级

### 3. 资源分配决策

- 根据错误影响范围分配开发资源
- 数量多的错误影响更多用户

## 📈 示例数据

| 错误类型        | 发生次数 | 方块大小 | 严重程度 | 优先级  |
| --------------- | -------- | -------- | -------- | ------- |
| TypeError       | 150      | 最大     | High     | 🔴 最高 |
| NetworkError    | 120      | 较大     | High     | 🔴 高   |
| MemoryError     | 95       | 较大     | High     | 🔴 高   |
| ReferenceError  | 89       | 中等     | Medium   | 🟡 中   |
| ValidationError | 67       | 中等     | Medium   | 🟡 中   |
| SyntaxError     | 45       | 较小     | Low      | 🟢 低   |
| PermissionError | 34       | 较小     | Medium   | 🟡 中   |
| TimeoutError    | 23       | 最小     | Low      | 🟢 低   |

## 🚀 优势

1. **直观性**：方块大小直接反映错误影响范围
2. **优先级**：帮助开发团队快速识别关键问题
3. **数据驱动**：基于实际数据而非主观判断
4. **用户影响**：数量多的错误影响更多用户

## 🔧 技术实现

- 使用 `normalizedCount` 进行数据标准化
- 动态计算最大错误次数作为基准
- 响应式设计，支持不同屏幕尺寸
- 平滑的动画过渡效果
