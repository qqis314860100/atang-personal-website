// Sentryé›†æˆæ–¹æ¡ˆ - ä¿æŒç°æœ‰Dashboard
// è¿™ä¸ªæ–¹æ¡ˆè®©ä½ è·å¾—Sentryçš„å¼ºå¤§åŠŸèƒ½ï¼ŒåŒæ—¶ä¿æŒç°æœ‰æŠ•èµ„

// 1. ä¿®æ”¹ç°æœ‰çš„tracker.tsï¼ŒåŒæ—¶å‘é€åˆ°Sentryå’Œä½ çš„API
import * as Sentry from '@sentry/nextjs'

class AnalyticsTracker {
  // ä¿æŒç°æœ‰çš„initæ–¹æ³•
  init() {
    // ç°æœ‰é€»è¾‘...

    // æ–°å¢ï¼šåˆå§‹åŒ–Sentry
    if (typeof window !== 'undefined') {
      Sentry.init({
        dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
        environment: process.env.NODE_ENV,
        tracesSampleRate: 0.1, // æ€§èƒ½ç›‘æ§é‡‡æ ·ç‡
      })
    }
  }

  // ä¿®æ”¹é”™è¯¯è·Ÿè¸ªæ–¹æ³•
  trackError(errorData) {
    // å‘é€åˆ°Sentryï¼ˆè·å¾—å¼ºå¤§çš„é”™è¯¯åˆ†æï¼‰
    Sentry.captureException(new Error(errorData.error_message), {
      tags: {
        page: errorData.page,
        severity: errorData.severity,
      },
      extra: errorData,
    })

    // ä¿æŒå‘é€åˆ°ä½ çš„APIï¼ˆä¿æŒç°æœ‰Dashboardæ•°æ®ï¼‰
    this.throttledTrackEvent({
      type: 'error',
      ...errorData,
    })
  }
}

// 2. ä¼˜åŠ¿å¯¹æ¯”
/*
ç°åœ¨ä½ å°†è·å¾—ï¼š

âœ… ä¿æŒç°æœ‰æŠ•èµ„ï¼š
- ä½ çš„è‡ªå®šä¹‰Dashboardç»§ç»­å·¥ä½œ
- ç°æœ‰çš„æ•°æ®åˆ†æé€»è¾‘ä¿æŒä¸å˜
- å›¢é˜Ÿç†Ÿæ‚‰çš„ç•Œé¢å’Œå·¥ä½œæµç¨‹

âœ… è·å¾—Sentryä¼˜åŠ¿ï¼š
- æ™ºèƒ½é”™è¯¯èšåˆå’Œå»é‡
- å®æ—¶å‘Šè­¦ï¼ˆé‚®ä»¶ã€Slackã€å¾®ä¿¡ç­‰ï¼‰
- é”™è¯¯è¶‹åŠ¿åˆ†æå’Œå½±å“è¯„ä¼°
- æ€§èƒ½ç›‘æ§ï¼ˆCore Web Vitalsï¼‰
- Releaseè·Ÿè¸ªï¼ˆçŸ¥é“å“ªä¸ªç‰ˆæœ¬å¼•å…¥çš„é—®é¢˜ï¼‰
- é”™è¯¯ä¸Šä¸‹æ–‡ï¼ˆç”¨æˆ·è¡Œä¸ºå›æ”¾ï¼‰

âœ… é›¶é£é™©è¿ç§»ï¼š
- å¯ä»¥éšæ—¶å…³é—­Sentry
- ç°æœ‰ç³»ç»Ÿä¸å—å½±å“
- æ¸è¿›å¼æµ‹è¯•å’ŒéªŒè¯
*/

// 3. å®æ–½è®¡åˆ’ï¼ˆæ€»è®¡4å°æ—¶ï¼‰
/*
ç¬¬1æ­¥ï¼ˆ1å°æ—¶ï¼‰ï¼šå®‰è£…å’ŒåŸºç¡€é…ç½®
- npm install @sentry/nextjs
- é…ç½®DSNå’ŒåŸºç¡€è®¾ç½®

ç¬¬2æ­¥ï¼ˆ2å°æ—¶ï¼‰ï¼šä¿®æ”¹ç°æœ‰tracker
- åœ¨trackErroræ–¹æ³•ä¸­åŒæ—¶å‘é€åˆ°Sentry
- ä¿æŒç°æœ‰APIè°ƒç”¨ä¸å˜

ç¬¬3æ­¥ï¼ˆ1å°æ—¶ï¼‰ï¼šé…ç½®å‘Šè­¦å’Œå›¢é˜Ÿ
- è®¾ç½®é”™è¯¯é˜ˆå€¼å‘Šè­¦
- é…ç½®é€šçŸ¥æ¸ é“ï¼ˆé‚®ä»¶/é’‰é’‰/å¾®ä¿¡ï¼‰
*/

console.log(`
ğŸ¯ æ¨èæ–¹æ¡ˆï¼šæ··åˆæ¶æ„

ç°æœ‰Dashboard â†’ ç”¨äºä¸šåŠ¡æ•°æ®å±•ç¤ºã€å›¢é˜Ÿä¹ æƒ¯çš„ç•Œé¢
Sentry â†’ ç”¨äºé”™è¯¯ç›‘æ§ã€å‘Šè­¦ã€é«˜çº§åˆ†æ

æˆæœ¬ï¼š
- å¼€å‘æ—¶é—´ï¼š4å°æ—¶ï¼ˆvs 40+å°æ—¶çš„ç°æœ‰æŠ•å…¥ï¼‰
- æœˆè´¹ç”¨ï¼š$26/æœˆï¼ˆvs $400-800/æœˆçš„ç»´æŠ¤æˆæœ¬ï¼‰
- é£é™©ï¼šå‡ ä¹ä¸ºé›¶ï¼ˆä¿æŒç°æœ‰ç³»ç»Ÿï¼‰

è¿™æ ·ä½ æ—¢ä¿æŒäº†ç°æœ‰æŠ•èµ„ï¼Œåˆè·å¾—äº†ä¼ä¸šçº§ç›‘æ§èƒ½åŠ›ï¼
`)

export default {
  recommendation: 'hybrid-approach',
  costReduction: '90%',
  riskLevel: 'minimal',
  implementationTime: '4 hours',
}
